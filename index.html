<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>TRIPlot Visualization</title>
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"/>
    <style>
      .layer-switcher {
        max-width: 300px;
      }
      .map {
        width: 90%;
        height: 800px;
      }
      #marker {
        width: 20px;
        height: 20px;
        border: 1px solid #088;
        border-radius: 10px;
        background-color: #0FF;
        opacity: 0.5;
      }
      .popover-body {
        min-width: 276px;
      }
      #controls {
        position: absolute;
        top: 20px;
        right: 20px;
      }
    </style>

    <script type="module" crossorigin src="/triplot_test/assets/index.adc03a38.js"></script>
    <link rel="stylesheet" href="/triplot_test/assets/index.b7955e9e.css">
  </head>
  <body>
    <div class="sidenav">
      <a href="index.html" style="padding-left:0">
      <img src="/triplot_test/assets/TRI_Logo_Sm.99bcf0a6.png" alt="Welcome to TRIPlot" />
      </a>
      <a href="index.html">Home</a>
    </div>
    <div class="content-columns">
      <div class="content-column plots main">
        <div>Maximum height: <span id="output"></span>[m]</div>

        <div id="controls">
          <select id="visualization"></select>
          <div class="wrapper">
            <span style="float:left">Min: </span><span style="float:left" id="min-value-output"></span>
            <span style="float:right" id="max-value-output"></span><span style="float:right">Max: </span>
            <br/>
            <div class="container">
              <div class="slider-track"></div>
              <input type="range" min="0" step="0.001" max="10.0" value="0" id="min-value-input" oninput="slideOne()">
              <input type="range" min="0" step="0.001" max="10.0" value="5" id="max-value-input" oninput="slideTwo()">
            </div>
            <br/>
            <span style="float:left"><input type="color" id="min-color"></span>
            <span style="float:right"><input type="color" id="max-color"></span>
          </div>

          <!--Slider script-->
          <script >
            window.onload = function () {
              slideOne();
              slideTwo();
            }
            let sliderMin = document.getElementById("min-value-input");
            let sliderMax = document.getElementById("max-value-input");
            let displayValMin = document.getElementById("min-value-output");
            let displayValMax = document.getElementById("max-value-output");
            let minGap = sliderMin.step;
            let sliderTrack = document.querySelector(".slider-track");
            let sliderLimitValue = document.getElementById("max-value-input").max;
            //displayValMin.value = sliderMin.value;
            //displayValMax.value = sliderMax.value;
            function slideOne() {
                if (parseInt(sliderMax.value) - parseInt(sliderMin.value) <= minGap) {
                    sliderMin.value = parseInt(sliderMax.value) - minGap;
                }
                displayValMin.textContent = parseFloat(sliderMin.value).toFixed(3);
                fillColor();
            }
            function slideTwo() {
                if (parseInt(sliderMax.value) - parseInt(sliderMin.value) <= minGap) {
                    sliderMax.value = parseInt(sliderMin.value) + minGap;
                }
                displayValMax.textContent = parseFloat(sliderMax.value).toFixed(3);
                fillColor();
            }
            function fillColor() {
                percent1 = (sliderMin.value / sliderLimitValue) * 100;
                percent2 = (sliderMax.value / sliderLimitValue) * 100;
                sliderTrack.style.background = `linear-gradient(to right, #dadae5 ${percent1}% , #3264fe ${percent1}% , #3264fe ${percent2}%, #dadae5 ${percent2}%)`;
            }
          </script>
          <!--script src="slider.js"></script-->
        </div>

        <div id="map" class="map"></div>
        <a id="export-png" class="btn btn-outline-dark" role="button"><i class="fa fa-download"></i> Download PNG</a>
        <a id="image-download" download="map.png"></a>
        <div style="display: none;"></div>
        <!-- Popup -->
        <div id="popup"></div>
      </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.1.2/chroma.min.js"></script>
        <!--input id="swipe" type="range" style="width: 80%;display:none;"-->
    </div>

    <!-- div id="footer">
    <div>
    <a href="https://www.ornl.gov">ORNL</a>   |
    <a href="https://ccsi.ornl.gov/">CCSI</a>
    </div>
    </div-->
  </body>
</html>